// SPDX-License-Identifier: MIT
// Copyright (c) 2020-2022 The Pybricks Authors

// css files
@use 'normalize.css/normalize';
@use '@blueprintjs/core/lib/css/blueprint';
@use '@blueprintjs/popover2/lib/css/blueprint-popover2';

// sass files
@use 'sass:color';
@use 'sass:math';
@use 'variables' as pb;
@use '@blueprintjs/core/lib/scss/variables' as bp;

:root {
    --pb-vh: 100vh;
}

body {
    // no scrolling of the page
    overflow: hidden;
    user-select: none;
}

// Utility classes

.h-100 {
    height: 100%;
}

.w-100 {
    width: 100%;
}

.p-absolute {
    position: absolute;
}

.no-wrap {
    white-space: nowrap;
}

// global style tweaks

.#{bp.$ns}-toast {
    user-select: text;
    max-width: 700px;
}

.#{bp.$ns}-button {
    user-select: none;

    &.#{bp.$ns}-intent-primary {
        background-color: pb.$pybricks-blue;

        &:hover {
            background-color: color.adjust(pb.$pybricks-blue, $lightness: -5%);
        }

        &:disabled,
        &.#{bp.$ns}-disabled {
            background-color: rgba(pb.$pybricks-blue, 0.5);
        }
    }

    &-text > img {
        display: block;
    }

    &-group:not(.#{bp.$ns}-minimal) {
        & > .#{bp.$ns}-popover-wrapper:not(:last-child) .#{bp.$ns}-button,
        & > .#{bp.$ns}-button:not(:last-child) {
            margin-right: 0px;
        }
    }
}

a.#{bp.$ns}-button {
    text-align: left;
}

.#{bp.$ns}-dialog-footer-actions {
    flex-wrap: wrap;
    row-gap: 10px;
}
.#{bp.$ns}-control {
    & input:checked ~ .#{bp.$ns}-control-indicator,
    &.#{bp.$ns}-switch input:checked ~ .#{bp.$ns}-control-indicator {
        background-color: pb.$pybricks-blue;

        .#{bp.$ns}-dark & {
            background-color: pb.$pybricks-blue;
        }
    }
}

.#{bp.$ns}-form-group > .#{bp.$ns}-label {
    font-weight: bolder;
}

.#{bp.$ns}-input-group .#{bp.$ns}-icon {
    margin: 7px;
}

// don't take up so much space when there is no caret
.#{bp.$ns}-tree-node-caret-none {
    // $pt-grid-size / 2 matches padding on .#{bp.$ns}-tree-node-conent
    min-width: math.div(bp.$pt-grid-size, 2);
}

::-webkit-scrollbar {
    width: 16px;

    &-track {
        background: bp.$pt-app-background-color;

        .#{bp.$ns}-dark & {
            background: bp.$pt-dark-app-background-color;
        }
    }

    &-thumb {
        border-width: 3px;
        border-style: solid;
        border-radius: 8px;
        border-color: bp.$pt-app-background-color;
        background: bp.$pt-icon-color;

        &:hover {
            background: bp.$pt-icon-color-hover;
        }

        .#{bp.$ns}-dark & {
            border-color: bp.$pt-dark-app-background-color;
            background: bp.$pt-dark-icon-color;

            &:hover {
                background: bp.$pt-dark-icon-color-hover;
            }
        }
    }
}
